(function(t){function e(e){for(var n,c,o=e[0],i=e[1],u=e[2],p=0,d=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},s=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Test-Oyster-Telecom/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=i;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"06e9":function(t,e,r){},"269f":function(t,e,r){},4049:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[t._m(0),r("router-view")],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[r("div",{staticClass:"navbar"},[r("div",{staticClass:"container"},[r("div",{staticClass:"navbar-content"},[r("div",{staticClass:"logo"},[t._v("Таблица клиентов")])])])])])}],c={},o=c,i=r("2877"),u=Object(i["a"])(o,a,s,!1,null,null,null),l=u.exports,p=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[t.isResponseErr?r("div",{staticClass:"wrapper-content wrapper-content--fixed"},[r("p",[t._v("Ошибка!!! Код ошибки: 500 Перезагрузите страницу")])]):r("div",{staticClass:"wrapper-content wrapper-content--fixed"},[r("section",[r("div",{staticClass:"container"},[r("search",{attrs:{value:t.search,placeholder:"Поиск"},on:{search:function(e){t.search=e}}}),r("table",[r("thead",[r("tr",[r("th",{on:{click:t.usersSort}},[t._v("Имя и адрес клиента")]),r("th",[t._v("Почтовый адрес")]),r("th",[t._v("Номер телефона")]),r("th",[t._v("Дата создания")])])]),r("tbody",t._l(t.usersSearch,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.name)+" "),r("br"),t._v(" "+t._s(e.addresses[0].streetName)+" "+t._s(e.addresses[0].streetNumber))]),r("td",[t._v(t._s(e.contacts[0].emails[0]))]),r("td",[t._v(t._s(e.contacts[0].phones[0]))]),r("td",[t._v(t._s(t.editDate(e.createdAt)))])])})),0)])],1)]),r("section",[r("div",{staticClass:"contaier"},[r("div",{staticClass:"button-list"},[r("div",{staticClass:"btn btnPrimary",on:{click:function(e){return t.changePagination(5)}}},[t._v(" 5 ")]),r("div",{staticClass:"btn btnPrimary",on:{click:function(e){return t.changePagination(10)}}},[t._v(" 10 ")]),r("div",{staticClass:"btn btnPrimary",on:{click:function(e){return t.changePagination(15)}}},[t._v(" 15 ")])]),r("br"),r("div",{staticClass:"button-list"},[r("div",{staticClass:"btn btnPrimary",on:{click:t.prevPage}},[t._v(" ← ")]),r("div",{staticClass:"btn btnPrimary",on:{click:t.nextPage}},[t._v(" → ")])])])])])])},f=[],h=(r("99af"),r("4de4"),r("c975"),r("4e82"),r("0d03"),r("b0c0"),r("ac1f"),r("841c"),r("498a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper__search"},[r("div",{staticClass:"search"},[r("div",{staticClass:"search-icon"},[r("svg",{staticClass:"feather feather-search",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),r("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}})])])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])}),v=[],g={props:{value:{type:String,required:!0},placeholder:{type:String,default:"Поиск"}},data:function(){return{search:this.value}},watch:{search:function(t){this.$emit("search",t)}}},m=g,b=(r("9a6a"),Object(i["a"])(m,h,v,!1,null,"ad364778",null)),w=b.exports,_={components:{search:w},data:function(){return{users:null,currentSortDir:"up",isResponseErr:null,search:"",page:{current:1,length:10}}},created:function(){var t=this,e=new XMLHttpRequest,r="https://cors-anywhere.herokuapp.com/",n="GET",a="https://test-task-api.labilab.dev/clients";e.open(n,r+a,!1),e.onload=e.onerror=function(){console.log(n+" "+a+"\n"+e.status+" "+e.statusText+"\n\n"+(e.responseText||"")),500==JSON.parse(e.responseText).status?t.isResponseErr=!0:(t.isResponseErr=!1,t.users=JSON.parse(e.responseText).data)},/^POST/i.test(n)&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send()},computed:{usersSearch:function(){var t=this.users,e=this.search;return e?(e=e.trim().toLowerCase(),t=t.filter((function(t){if(-1!==t.name.toLowerCase().indexOf(e)||-1!==(t.addresses[0].streetName+" "+String(t.addresses[0].streetNumber)).toLowerCase().indexOf(e)||-1!==t.contacts[0].emails[0].toLowerCase().indexOf(e)||-1!==t.contacts[0].phones[0].toLowerCase().indexOf(e)||-1!==(t.contacts[0].name+" "+t.contacts[0].surname).toLowerCase().indexOf(e))return t})),t):this.filterArr(t)}},methods:{filterArr:function(t){var e=this;return t.sort((function(t,r){var n=1;return"down"===e.currentSortDir&&(n=-1),t.name<r.name?-1*n:t.name>r.name?1*n:0})).filter((function(t,r){var n=(e.page.current-1)*e.page.length,a=e.page.current*e.page.length;if(r>=n&&r<a)return!0}))},usersSort:function(){this.currentSortDir="up"===this.currentSortDir?"down":"up"},editDate:function(t){var e,r=new Date(t),n=r.getFullYear(),a=r.getMonth(),s=r.getDate(),c=r.getHours(),o=r.getMinutes(),i=["January","February","March","April","May","June","July","August","September","October","November","December"];return s<10&&(s="0".concat(s)),o<10&&(o="0".concat(o)),e="".concat(s," ").concat(i[a]," ").concat(n," ").concat(c,":").concat(o),e},prevPage:function(){this.page.current>1&&(this.page.current-=1)},nextPage:function(){this.page.current*this.page.length<this.users.length&&(this.page.current+=1)},changePagination:function(t){this.page.length=t}}},y=_,C=(r("c03e"),Object(i["a"])(y,d,f,!1,null,"991b451c",null)),x=C.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"wrapper-content wrapper-content--fixed"},[r("section",[r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[t._v("Page not found")]),r("p",[t._v("Go to "),r("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("main page?")])],1)])])])])},P=[],S=(r("6dec"),{}),k=Object(i["a"])(S,O,P,!1,null,"1ac61505",null),j=k.exports;n["a"].use(p["a"]);var T=new p["a"]({mode:"history",routes:[{path:"/",name:"home",component:x},{path:"*",name:"notFound",component:j}]}),E=r("2f62");n["a"].use(E["a"]);var D=new E["a"].Store({modules:{}});r("c1c3");n["a"].config.productionTip=!1,new n["a"]({router:T,store:D,render:function(t){return t(l)}}).$mount("#app")},"6dec":function(t,e,r){"use strict";var n=r("269f"),a=r.n(n);a.a},"9a6a":function(t,e,r){"use strict";var n=r("06e9"),a=r.n(n);a.a},c03e:function(t,e,r){"use strict";var n=r("4049"),a=r.n(n);a.a},c1c3:function(t,e,r){}});